---
name: Project Setup
status: open
created: 2025-12-22T03:28:32Z
updated: 2025-12-22T03:32:46Z
github: https://github.com/1psychoQAQ/verdict-agent/issues/2
depends_on: []
parallel: false
conflicts_with: []
---

# Task: Project Setup

## Description

Initialize the Go project with module definition, directory structure, PostgreSQL schema, and environment configuration. This establishes the foundation for all subsequent development.

## Acceptance Criteria

- [ ] Go module initialized with `github.com/1psychoQAQ/verdict-agent`
- [ ] Directory structure created matching epic specification
- [ ] PostgreSQL schema defined for decisions and todos tables
- [ ] Environment configuration loading implemented
- [ ] Basic main.go with health check endpoint running
- [ ] Docker Compose file for local PostgreSQL

## Technical Details

### Directory Structure
```
cmd/server/main.go
internal/agent/
internal/pipeline/
internal/artifact/
internal/storage/
internal/api/
internal/config/
web/static/
migrations/
```

### PostgreSQL Schema
```sql
CREATE TABLE decisions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    input TEXT NOT NULL,
    verdict JSONB NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    is_final BOOLEAN DEFAULT TRUE
);

CREATE TABLE todos (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    decision_id UUID REFERENCES decisions(id),
    content TEXT NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW()
);
```

### Environment Variables
```
DATABASE_URL=postgres://...
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
LLM_PROVIDER=openai|anthropic
PORT=8080
```

### Key Dependencies
- `github.com/go-chi/chi/v5`
- `github.com/jackc/pgx/v5`
- `github.com/go-playground/validator/v10`

## Dependencies

- [ ] None (first task)

## Effort Estimate

- Size: M
- Hours: 4-6
- Parallel: false (must complete first)

## Definition of Done

- [ ] `go build ./...` succeeds
- [ ] `go test ./...` passes (empty tests OK)
- [ ] Server starts and responds to GET /health
- [ ] PostgreSQL connection verified
- [ ] All directories and placeholder files created
